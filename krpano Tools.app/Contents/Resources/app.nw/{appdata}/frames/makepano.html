<!DOCTYPE html><head><title>krpano Make Pano</title><link rel="stylesheet" href="../design/style.css"><style>html{height:100%}body{height:100%;margin:0;padding:0}</style><script src="../viewer/krpano.js"></script></head><body><div id="makepanoframe" style="position:absolute;width:100%;height:100%;display:table" onselectstart="return false"><div style="display:table-row;height:0"><div style="color:#336699;margin:10px"><b>Make Pano</b> - ...</div></div><div style="display:table-row; height:100%; xbackground-color:#77FFFF;position:relative"><table style="table-layout:fixed;font-size:inherit;margin:0;padding:0 0px;width:100%;height:100%" cellspacing="0"><tr style="height:100%"><td style="width:200px;margin:0px;padding:0px 0px 0px 10px;vertical-align:top"><div id="inputimages" style="box-sizing:border-box;width:100%;height:100%;border:1px solid silver;color:gray">Drag panoramic images here...</div></td><td style="margin:0px;padding:0px 5px 0px 10px;vertical-align:top"><div id="pano_h5" style="box-sizing:border-box;width:100%;height:100%;border:1px solid silver;background:black;color:white"></td><td style="margin:0px;padding:0px 10px 0px 5px;vertical-align:top"><div id="pano_swf" style="box-sizing:border-box;width:100%;height:100%;border:1px solid silver;background:black;color:white"></td></tr></table></div><div style="display:table-row;height:0;xbackground-color:#FF77FF"><div style="margin:10px"><img src="../design/krpano_logo.svg" style="float:right;;bottom:5px;pointer-events:none"> <button onclick="top.krpanoui.showRegisterDialog()">Register krpano license...</button> <button onclick="top.gui_modal_window('frames/about.html',{fs:true})">About...</button></div></div></div></body><script>function ID(e){return document.getElementById(e)}function krpano_ready(e){e.set("xml.content","<krpano><preview type='grid()'/></krpano>"),e.call("loadxml(get(xml.content));showlog();")}function test_imagethumbnails(){function loadimageinfos(imagepath){function onStart(e){}function onEnd(data){try{var pingimage=eval("("+data+")")}catch(e){console.log("eval pingimage failed:"+e),console.log("data:"+data);return}img.innerHTML="ping:"+path.basename(imagepath)+"<br>"+pingimage.w+"x"+pingimage.h+" gps="+pingimage.gps+" icc="+(pingimage.icc?pingimage.icc:"sRGB")+" t="+pingimage.ms+"<br>"+(pingimage.thumb?'<center><img src="'+pingimage.thumb+'" style="width:50%;height:auto;" /></center>':"-no-thumb-"),pingimage.thumb||top.krpanotools.makeThumb(imagepath,null,function(data){try{var makethumb=eval("("+data+")")}catch(e){console.log("eval makethumb failed:"+e),console.log("data:"+data);return}img.innerHTML="makethumb:"+path.basename(imagepath)+"<br>"+pingimage.w+"x"+pingimage.h+" gps="+pingimage.gps+" icc="+(pingimage.icc?pingimage.icc:"sRGB")+" t1="+pingimage.ms+" t2="+makethumb.ms+"<br>"+(makethumb.img?'<center><img src="'+makethumb.img+'" style="width:50%;height:auto;" /></center>':"-no-thumb-2-")},null,null)}function onProgress(e){}function onError(e){console.log("loadimageinfos["+imgid+"] - onError:"+e)}var imgid=cnt_imgid++,img=document.createElement("div");img.style.width="100%;",img.style.height="100px",img.style.border="1px solid gray",img.style.margin="5px",img.style.overflow="hidden",img.innerHTML=path.basename(imagepath),holder.appendChild(img),top.krpanotools.pingImage(imagepath,onStart,onEnd,onProgress,onError)}var path=top.require("path"),holder=document.getElementById("inputimages");holder.ondragover=function(e){return e.preventDefault&&e.preventDefault(),!1},holder.ondragenter=function(){return holder.style.background="red",!1},holder.ondragleave=function(){return holder.style.background="white",!1},holder.ondragend=function(){return holder.style.background="white",!1},holder.ondrop=function(e){holder.ondragend(),e.preventDefault();for(var t=0;t<e.dataTransfer.files.length;t++){var n=e.dataTransfer.files[t];loadimageinfos(n.path)}return!1};var cnt_imgid=0}top.gui_style_do_system_fixes(document),top.gui_block_external_dragging(document),embedpano({swf:"../viewer/krpano.swf",target:"pano_h5",id:"krpano_h5",html5:"only",xml:null,onready:krpano_ready}),top.trustflash.check(function(e){e?embedpano({swf:"../viewer/krpano.swf",target:"pano_swf",id:"krpano_swf",html5:"never",wmode:top.ksystem.isLinux?"window":"transparent",xml:null,onready:krpano_ready}):ID("pano_swf").innerHTML="Flash not trusted"}),test_imagethumbnails()</script>